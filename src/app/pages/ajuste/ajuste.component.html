<ion-header class="ion-no-border" translucent>
    <ion-toolbar>
        <ion-title class="ion-no-padding ion-text-center">
            <h6 class="ion-font-bold ion-m-0 ion-font-md">Ajustes</h6>
            <ion-text color="medium">
                <small class="ion-font-sm">
                    Cambiar configuracion
                </small>
            </ion-text>
        </ion-title>
    </ion-toolbar>
</ion-header>

<ion-content fullscreen>
    <div class="fade-animation">
        <br>
        <ion-list lines="none">
            <ion-item>
                <ng-container *ngIf="claims; else skeleton">
                    <ion-avatar [class.ion-border]="!thumbnail" style="width: 40px; height: 40px;">
                        <ion-img [src]="uploadService.resources+thumbnail" *ngIf="thumbnail; else icon"></ion-img>
                        <ng-template #icon>
                            <ion-icon name="person-outline" class="ion-font-xl" style="margin: 6px 7px;"></ion-icon>
                        </ng-template>
                    </ion-avatar>
                    <ion-label color="dark" class="ion-ml-3">
                        <h6 class="ion-font-bold ion-font-md">{{ claims?.unique_name | titlecase }}</h6>
                        <ion-text color="medium">
                            <small class="ion-font-sm">{{ claims?.email || 'Desconocido' }}</small>
                        </ion-text>
                    </ion-label>
                </ng-container>

                <!-- Skeleteon -->
                <ng-template #skeleton>
                    <ion-avatar>
                        <ion-skeleton-text class="ion-w-100 ion-h-100" animated></ion-skeleton-text>
                    </ion-avatar>
                    <ion-label class="ion-ml-3">
                        <ion-skeleton-text class="ion-w-25" animated></ion-skeleton-text>
                        <ion-skeleton-text class="ion-w-50" animated></ion-skeleton-text>
                    </ion-label>
                </ng-template>
            </ion-item>
            <br>
            <ion-item detail="false">
                <ion-icon name="moon-outline"></ion-icon>
                <ion-label color="dark" class="ion-ml-3">
                    <span class="ion-font-md">Modo oscuro</span>
                </ion-label>
                <ion-toggle color="primary" slot="end" name="darkTheme"
                    [(ngModel)]="theme.isDarkTheme" (ionChange)="theme.toggleDarkTheme()">
                </ion-toggle>
            </ion-item>

            <ion-list-header>
                <ion-label color="medium">
                    <span class="ion-font-bold">Opciones</span>
                </ion-label>
            </ion-list-header>

            <ion-item button routerLink="/app/perfil">
                <ion-icon name="person-outline"></ion-icon>
                <ion-label color="dark" class="ion-ml-3">
                    <span class="ion-font-md">Perfil</span>
                </ion-label>
            </ion-item>

            <ion-item button routerLink="/app/change-password">
                <ion-icon name="lock-closed-outline"></ion-icon>
                <ion-label color="dark" class="ion-ml-3">
                    <span class="ion-font-md">Cambiar contrase√±a</span>
                </ion-label>
            </ion-item>

            <ion-list-header>
                <ion-label color="medium">
                    <span class="ion-font-bold">Otros</span>
                </ion-label>
            </ion-list-header>
            
            <ion-item button detail="false" (click)="logout()">
                <ion-icon name="power-outline"></ion-icon>
                <ion-label color="dark" class="ion-ml-3">
                    <span class="ion-font-md">Cerrar sesion</span>
                </ion-label>
            </ion-item>

        </ion-list>
    </div>
</ion-content>
